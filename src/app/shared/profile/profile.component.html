<notifier-container></notifier-container>

<div id="foot">

    <div  class="slider_heading">
        <div class="cros">
            <span (click)="slideDown()"><img class="" src="assets/images/crossclose.svg"></span>
        </div>
    </div>               
                <div class="container" *ngIf="isMyaccount">
                    <!-- <div class="row"> -->

                      
                    <tabset >
                        <tab heading="My Account" id="tab1">
                        <div>
                            <form autocomplete="off" class="col-sm-12" #updateUser="ngForm" (ngSubmit)="updateAccount(form)">
                                <div class="row">
                                  <div class="form-group col-sm-3">
                                    <label for="email">Email</label>
                                    <input type="text" name="email" #email="ngModel" class="form-control botmbordr" [(ngModel)]="formOne.userId"
                                                pattern="^\S*[@]\S*[.]\S*$" required email placeholder="Send from ex: abc@xyz.com" disabled/>
                                  
                                  </div>
                                  <!-- <div class="form-group col-sm-3">
                                    <label for="passwd">Password</label>
                                    <span class=" input-group" style="margin-left:0px">
                                    <input  
                                          [type]="(show==true) ? 'password' : 'text'" 
                                          name="passwd" 
                                          #passwd="ngModel" 
                                          class="form-control botmbordr" 
                                          [(ngModel)]="formOne.password"
                                          placeholder="Password"                
                                          minlength="10"
                                          autocomplete="new-password"
                                          required />
                                          <span (click)="toggle()" class="input-group-add pwd-class"> <i class="fa fa-eye" [ngClass]="(show==true) ? 'fa fa-eye' : 'fa fa-eye-slash'"  aria-hidden="true" ></i></span> 
                                        </span>
                                          <span *ngIf="((passwd.errors && updateUser.submitted) || (passwd.errors && passwd.touched) || (passwd.errors && passwd.minlength)) " class='fa fa-info-circle errspan'>
                                          <span *ngIf="passwd.errors.required">Password is required</span>-->
                                          <!-- <span *ngIf="passwd.errors.pattern">Password must be 8-20 characters and have at least one uppercase latter, one lowercase letter, one special character and one number</span> -->
                                     <!--</span>
                                  </div> -->
                                    <div class="form-group col-sm-3">
                                        <label for="firstName">First Name</label>
                                        <input type="text" name="firstName" #firstName="ngModel" class="form-control botmbordr" (keypress)="lettersOnly($event)" [(ngModel)]="formOne.firstName" placeholder="Enter First Name" maxlength="25" required/>
                                    <span *ngIf="((firstName.invalid && updateUser.submitted) || (firstName.errors && firstName.touched) )" 
                                        class='fa fa-info-circle errspan'>
                                    First Name is required </span>
                                        </div>
                              
                                          <div class="form-group col-sm-3">
                                            <label for="lastName">Last Name</label>
                                            <input type="text" name="lastName" #lastName="ngModel" class="form-control botmbordr" (keypress)="lettersOnly($event)" [(ngModel)]="formOne.lastName" placeholder="Enter Last Name" maxlength="25" required alphabetOnly />
                                                <span *ngIf="((lastName.invalid && updateUser.submitted) || (lastName.errors && lastName.touched) )" 
                                                class='fa fa-info-circle errspan'> Last Name is required </span>
                                            </div>
                                          <div class="form-group col-sm-3">
                                            <label for="jobTitle">Job Title</label>
                                            <input type="text" name="jobTitle" #jobTitle="ngModel" class="form-control botmbordr" (keypress)="lettersOnly($event)" [(ngModel)]="formOne.designation" placeholder="Enter Job Title" maxlength="25" required alphabetOnly/>
                                            <span *ngIf="((jobTitle.invalid && updateUser.submitted) || (jobTitle.errors && jobTitle.touched) )" 
                                            class='fa fa-info-circle errspan'>Job Title is required </span>
                                        </div>
                                       
                                        <div class="form-group col-sm-3">
                                          <label for="company">Company</label>
                                          <input type="text" name="company" #company="ngModel" class="form-control botmbordr" [(ngModel)]="formOne.company" placeholder="Enter Company" maxlength="25" required alphabetOnly />
                                          <span *ngIf="((company.invalid && updateUser.submitted) || (company.errors && company.touched) )" 
                                          class='fa fa-info-circle errspan'> Company is required </span> 
                                        
                                        </div>
                          
                                         <!-- <div class=" form-group col-md-3 ">
                                          <label for="Department">Department</label>
                                          <select id="department" class="form-control botmbordr" name='department' (change)="onChangeDepartment(formOne.department)" #department="ngModel" [(ngModel)]="formOne.department" required>
                                            <option  [selected]=true >Select</option>
                                            <option  [value]="undefined" disabled hidden>Department</option>
                                            <option *ngFor="let departmen of departments;let i=index;trackBy:loopTrackBy;" [value]='departments[i]'>{{departments[i]|titlecase}}</option>
                                            <option value='Others'>Others</option>
                                          </select>
                                          <span *ngIf="((department.invalid && updateUser.submitted)|| (department.errors && department.touched))"
                                                    class='fa fa-info-circle errspan'> Department is required </span>
                                        </div> -->
                                        
                                        <!-- <div class="form-group col-sm-3" *ngIf="addDepartment">
                                            <label for="Department">Other Department</label>
                                            <input type="text" name="otherDepartment" #otherDepartment="ngModel" maxlength="25" (keypress)="lettersOnly($event)" class="form-control botmbordr" [(ngModel)]="otherdepartment" placeholder="Department Name" maxlength="25" required alphabetOnly />
                                            <span *ngIf="((otherDepartment.invalid && updateUser.submitted) || (otherDepartment.errors && otherDepartment.touched) )" 
                                            class='fa fa-info-circle errspan'> Department Name is required </span> 
                                          </div> -->
                                          <div class="form-group col-sm-3">
                                                <label for="country">Country</label>
                                                <select id="country" name='country' class="form-control botmbordr" (change)='onChangeCountry(formOne.country)' #country="ngModel" [(ngModel)]="formOne.country" required>
                                                        <option hidden disabled [ngValue]="undefined" [selected]=true>Country</option>
                                                 <option *ngFor="let country of countryInfo" [ngValue]="country.CountryName">{{country.CountryName}}</option>
                                                  </select>
                                                  <span *ngIf="((country.invalid && updateUser.submitted)|| (country.errors && country.touched))"
                                                    class='fa fa-info-circle errspan'> Country is required </span>
                                              </div>
                                              <div class=" col-md-3 form-group inner-addon left-addon">
                                                  <label for="state">State</label>
                                                  <!-- <img src="assets/images/registration/State.svg" class="icon"> -->
                                                  <select class="form-control botmbordr" (change)="onChangeState($event.target.value)" name='state' #state='ngModel' [(ngModel)]="formOne.state" required>
                                                    <!-- <option *ngIf="stateInfo == ''" value="-1">State</option> -->
                                                    <option  [value]="undefined" disabled hidden>State</option>
                                                    <option  [value]="null" disabled hidden>State</option>
                                                    <option *ngFor="let state of stateInfo; let j = index" [value]='state.StateName'>{{state.StateName}}</option>
                                                  </select>
                                                  <span *ngIf="((state.invalid && updateUser.submitted)|| (state.errors && state.touched))"
                                                    class='fa fa-info-circle errspan'> State is required </span>
                                                </div>
                                    
                                                <div class=" col-md-3 form-group inner-addon left-addon">
                                                    <label for="city">City</label>
                                                  <!-- <img src="assets/images/registration/town.svg" class="icon"> -->
                                                  <select class="form-control botmbordr" name='city' #city='ngModel' [(ngModel)]='formOne.city' required>
                                                    <option *ngIf="cityInfo == ''" value="-1">City</option>
                                                    <option  [value]="undefined" disabled hidden>City</option>
                                                    <option  [value]="null" disabled hidden>City</option>
                                                    <option *ngFor="let city of cityInfo; let k = index" [value]="city">{{city}}</option>
                                                  </select>
                                                  <span *ngIf="((city.invalid && updateUser.submitted)|| (city.errors && city.touched))"
                                                    class='fa fa-info-circle errspan'> City is required </span>
                                                </div>
                                                <div class="form-group col-sm-3 inner-addon left-addon">
                                                    <label for="zipCode">Zip Code</label>
                                                    <!-- <img src="assets/images/registration/Zip Code.svg" class="icon"> -->
                                                    <input type="text" (keydown)="onKeydown($event)" name="zipCode" #zipCode="ngModel" class="form-control botmbordr" [(ngModel)]="formOne.zipcode"
                                                       onKeyPress="if(this.value.length==6) return false;" placeholder="Zip Code" required>
                                                    <span *ngIf="((zipCode.invalid && updateUser.submitted)|| (zipCode.errors && zipCode.touched))"
                                                      class='fa fa-info-circle errspan'> Zip Code is required </span>
                                                  </div>

                                             
                                                             
                                          <div class="form-group col-sm-3">
                                            <label for="phoneumber">Phone</label>
                                                  <div>
                                                    <input type="text" (keydown)="onKeydown($event)"  id="phoneNumber" name="phoneumber" class="form-control botmbordr phonenumber" ng2TelInput [ng2TelInputOptions]="{initialCountry: 'in'}"
                                                        #phoneumber="ngModel" [(ngModel)]="formOne.phoneNumber" onKeyPress="if(this.value.length==10) return false;" required/>
                                            <span *ngIf="((phoneumber.invalid && updateUser.submitted) || (phoneumber.errors && phoneumber.touched) )" 
                                            class='fa fa-info-circle errspan'> Phone Number is required </span>
                                                </div>
                                                </div> 

                                                <!-- <div class="form-group col-sm-3">
                                                  <label for="phoneNumber">Phone</label>
                                                  <input type="number" name="phoneNumber" #phoneNumber="ngModel" minlength="8" class="form-control botmbordr numberInput" [(ngModel)]="formOne.phoneNumber" placeholder="Enter Phone Number" maxlength="25" required 
                                                  [ngClass]="{ 'is-invalid': ((phoneNumber.invalid && updateUser.submitted) || (phoneNumber.errors && phoneNumber.touched) ) }" />
                                                  <span *ngIf="((phoneNumber.invalid && updateUser.submitted) || (phoneNumber.errors && phoneNumber.touched) )" 
                                                  class='fa fa-info-circle errspan'>Phone Number is required </span>
                                                </div>
                                                <div class="col-sm-6">
                                                </div> -->
                                    <div class="form-group updat_btndiv">
                                        <button type="submit" class="btn btn-continue float-right update_btn"  [disabled] = "updateUser.invalid">Save</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                      </tab>
                        
                      <tab *ngIf="this.userRole.includes('Admin')" heading="Subscriptions" (selectTab)=onselectSubscrptionTab()>
                        <div class="search-One">
                            <form class="form-inline d-flex  md-form form-sm">
                                    <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchvalue" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                    <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                  </form>
                            </div>
                    <div class="subscrption_id">
                            <table class="table table-borderless col-md-12 table-hover">
                              <thead>
                                <tr>
                                  <th scope="col" class="types" style="text-align:center">Subscription Id</th>
                                  <th scope="col" class="types">Product</th>
                                  <th scope="col" class="types">Plan</th>
                                  <th scope="col" class="types">Amount</th>
                                  <th scope="col" class="types">Status</th>
                                  <th scope="col" class="types">Action</th>
                                </tr>
                              </thead>
                              <tbody class="col-md-12" *ngFor= "let sdata of tableData | FilterPipe: searchvalue ;let i=index;trackBy:loopTrackBy;">
                                <tr >
                                  <td style="text-align:center">{{sdata.subscriptionId?sdata.subscriptionId:'-'}}</td>
                                  <td>{{sdata.name}}</td>
                                  <td>{{sdata.planEntity.nickName}}</td>
                                  <td >{{sdata.planEntity.amount?sdata.planEntity.amount:'0'}}</td>
                                  <td>{{sdata.status}}</td>
                                  <td  class="deleticon"><span  (click)="subscriptiondata(sdata,i,detailstemplate)"><img src="assets/images/eyeIcon.svg" alt=""> </span><button class="subsc" *ngIf = "sdata.status === 'Active' || sdata.planEntity.nickName ==='Free Tier' " [disabled]="sdata.planEntity.nickName==='Free Tier'"  (click)="selecteddata(sdata,i,template)" > <img src="assets/images/unsubscribe.svg" alt=""></button>
                                    <div id="myid" [ngClass]="selectedIndex === i?'isdelet':''" class="deletconfm">
                                      <div class="container-fluid deletefrm">
                                    <h5 class="pull-left">Confirmation</h5>
                                    <button type="button" class="close " aria-label="Close" (click)="unsubscribeNo(i)">
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    <p class="pull-left">Are you sure you want to cancel the Subscription ?</p>
                                    <button class="pull-left confm" (click)="unsubscribeYes(i)">Yes</button>
                                    <button class="confm pull-left" (click)="unsubscribeNo(i)">No</button>
                                    </div>
                                    </div>
                                  </td>
                                  <!-- <td class = "deleticon">
                                    <button class="btn btn-primary" *ngIf = "sdata.status != 'Active'" (click)="reactivatesubscription(sdata)">Reactivate</button>
                                  </td> -->
                                </tr>
                              </tbody>
                            </table>
                    </div>
                  </tab>

                        <tab *ngIf="this.userRole.includes('Admin')" heading="Payment History" (selectTab)=onselectInvoiceTab()>
                            <div class="search-One">
                                <form class="form-inline d-flex  md-form form-sm">
                                        <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchvalue" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                        <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                      </form>
                                </div>
                        <div class="container invoice_id">
                                <table class="table table-borderless table-hover">
                                  <thead>
                                    <tr>
                                      <th scope="col" class="types">Invoice Number</th>
                                      <th scope="col" class="types">Subscription ID</th>
                                      <th scope="col" class="types">Amount</th>
                                      <!-- <th scope="col" class="types">Refund</th> -->
                                      <th scope="col" class="types">Due Date</th>
                                      <th scope="col" class="types">Status</th>
                                      <th scope="col" class="types">Action</th>
                                    </tr>
                                  </thead>
                                  <tbody >
                                    <tr *ngFor="let invdata of invoicedata | FilterPipe: searchvalue ;let i=index;trackBy:loopTrackBy;">
                                      <td>{{invdata.invoiceNumber}}</td>
                                      <td>{{invdata.subscriptionId}}</td>
                                      <td>$ {{invdata.amount}}.00 </td>
                                      <!-- <td>{{invdata.refund || "NA"}}</td> -->
                                        <td>{{getinvoiceDate(invdata.createDate) |date:'MM/dd/yyyy'}}</td>
                                        <td>{{invdata.status|titlecase}}</td>
                                      <td><span  (click) = "invoicedownload(invdata)"><img class="download" src="assets/images/download_icon.svg"></span></td>
                                    </tr>
                                  </tbody>
                                </table>
                        </div>
                      </tab>
                        
                        <tab *ngIf="this.userRole.includes('Admin')" heading="Payment Mode" (selectTab)=onselectPaymentModeTab()>
                            <div class="search-One">
                                <form class="form-inline d-flex  md-form form-sm">
                                        <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchvalue" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                        <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                      </form>
                                </div>
                        <div class="container paymode">
                          <button class='btn btn-primary pull-right addCard' (click)='addPaymentCards(addCard)'>Add New Card</button>
                                <table class="table table-borderless table-hover">
                                  <thead>
                                    <tr>
                                      <th scope="col" class="cardtype">Card Type</th>
                                      <th scope="col" class="cardtype">Card Number</th>
                                      <th scope="col" class="cardtype">Expiration Date</th>
                                      <th scope="col" class="cardtype">Created Date</th>
                                      <th scope="col" class="cardtype">Action</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let cardData of paymentMode | FilterPipe: searchvalue ;let i=index;trackBy:loopTrackBy;" >
                                      <td>{{cardData.cardBrand|titlecase}}</td>
                                      <td class="cardtable">XXXX-XXXX-XXXX-{{cardData.cardLast4}} 
                                        <!-- <span [ngClass]="defaultcard == i?'isdefaultCard':''" (click)="defaultcardselect(cardData,i)" class="cardbox">{{cardData.defaultSource}}</span></td> -->
                                        <span *ngIf='cardData.defaultSource'><button class="btn default_btn">Default</button></span> 
                                      <td>{{cardData.cardExpMonth}}/{{cardData.cardExpYear}}</td>
                                      <td>{{cardData.created | date}}</td>
                                      <td >
                                        <!-- <button aria-hidden="true" *ngIf='!cardData.defaultSource' class="btn btn-danger remov_btn"  (click)="deletCard(cardData,i)">Remove -->
                                          <!-- <img src="assets/images/unsubscribe.svg" alt=""> -->
                                        <!-- </button>  -->
                                        <!-- <button *ngIf='!cardData.defaultSource' class='btn btn-primary setDefault_btn' (click)='setAsDefaultCard(cardData)'>Set Default</button> -->
                                        <button  class="subsc" [disabled]="cardData.defaultSource === true" (click)='setAsDefaultCard(cardData)'><img src="assets/images/eyeIcon.svg" alt=""> </button>
                                        <button class="subsc" [disabled]="cardData.defaultSource === true" (click)="deletCard(cardData,i)"> <img src="assets/images/unsubscribe.svg" alt=""></button>
                                        <!-- <span aria-hidden="true" class="cross_delet"  (click)="deletCard(cardData,i)">&times;</span>
                                        
                                        <div id="delete-card"  *ngIf="closeFlag" [ngClass]="deletCardIndex == i?'isdeletcard':''" class="deletconfm">
                                            <div class="container-fluid deletefrm">
                                          <h5 class="pull-left">Confirmation</h5>
                                                                 <button type="button" class="close " aria-label="Close" (click)="cancelDeleteCard(i)">
                                             <span aria-hidden="true">&times;</span>
                                            </button>
                                          <p class="pull-left">Are you sure you want to remove the card?</p>
                                          <button class="pull-left confm" (click)="confrmDeleteCard(cardData)">Yes</button>
                                          <button class="confm pull-left" (click)="cancelDeleteCard(i)">No</button>
                                          </div>
                                          </div> -->

                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                        </div>
                      </tab>

                      <tab *ngIf = "true" heading = "Change Password">
                       <div class = "col-md-4 invteform">
                        <label for="password">Current Password </label>
                        <input type="password" name="password" #password="ngModel" placeholder = "Enter current password" class="form-control botmbordr" [(ngModel)]="currentPassword"/>
                        <label for="newpassword">New Password </label>
                        <input type="password" name="newpassword" #newpassword="ngModel" placeholder = "Enter new password" class="form-control botmbordr" [(ngModel)]="newPassword"/>     
                        <label for="confpassword">Confirm Password </label>
                        <input type="password" name="confpassword" #confpassword="ngModel" placeholder = "Confirm new password" class="form-control botmbordr" [(ngModel)]="confirmPassword"/>
                      </div>

                      <div class="col-md-12 submitbtn">
                        <button class="btn btn-primary" (click)="passwordChange()">Update</button>
                      </div>

                      </tab>
                      </tabset>
        </div>


        <div class="container" *ngIf="isInvite">
                <div class="row">
                    <div  class="col-md-12">
                            <h4 class="invite">Invite User</h4>
                    </div>
                    <div class="col-md-12 invteform">
                                        <form autocomplete="off" #inviteuser="ngForm" class="col-md-12 row">
                                            <div class="form-group col-sm-12">
                                                    <label for="email">Email</label>
                                                    
                                                    <textarea rows="20" cols="50" name='email' id="email" pattern="^\S*[@]\S*[.]\S*$" #email="ngModel" class="form-control textA"  [(ngModel)]="emailId"
                    autocomplete="none|false|no" (keyup)='onblur()' placeholder="Enter Emails Separated By Comma(,)" required></textarea>
                  <span *ngIf="((email.invalid && inviteuser.submitted)|| (email.errors && email.touched))"> 
                    <span class='fa fa-info-circle errspan' *ngIf="email.errors.required"> Email is required</span>
                    <span class='fa fa-info-circle errspan' *ngIf="email.errors.pattern"> Enter valid email address</span>
                  </span>
                    <!-- <span  class='fa fa-info-circle errspan' *ngIf="email.errors.pattern">Enter valid email address</span> -->
                    <span *ngIf='ispublicMail' class='fa fa-info-circle errspan'>&nbsp;Only Business Email is allowed</span>
                    <span *ngIf="isSameDomain" class='fa fa-info-circle errspan'>&nbsp;Sorry...! You Are Allowed to Invite {{domain}} Users Only</span>
                                                    
                                                  </div>

                                            <div class="form-group col-sm-3">
                                              <label for="application">Application</label>
                                              <select class="form-control" name="application"  id="application"(change)="onChangeApp($event.target.value)" required>
                                                <option  [value]="undefined" disabled hidden>Select Application</option>
                                                <option *ngFor="let application of listOfUserApplications"  [value]="application">{{application}}</option>
                                              </select>
                                            </div>
                                            <div class="col-sm-7 form-group">
                                                    <label for="role">Roles</label>
                                                    <ng-select name = "multiroles" [multiple]="true" 
                                                     placeholder="Select Roles"
                                                     [items] =  "allRoles"
                                                     [(ngModel)]="selectedroles"
                                                     bindValue = "id"
                                                     bindLabel = "name">
                         
                                                     </ng-select>
                                                    <!-- <select class="form-control" name="role"  id="role"(change)="onChangeRole($event.target.value)" required>
                                                        <option  [value]="undefined" disabled hidden>Select Role</option>
                                                        <option *ngFor="let role of listOfroles "  [value]="role"  >{{role}}</option>
                                                    </select> -->
                                                  </div>
                                                  <!-- <div class="col-sm-4"></div> -->
                                                  <div class="col-sm-2">
                                                  <button [disabled]="inviteuser.invalid || showErr" class="btn btn-primary btn-rounded btn-block my-4 waves-effect update_alert" type="submit" (click)='inviteUser(this.useremail,emailId)' >Submit</button>

                                                  </div>
                                          </form>
                            </div>
                    </div>
                </div>

               
                <div class="container" *ngIf="isAlerts">
                  <div class="row">
                      <div  class="col-md-12">
                              <h4 class="alert">Configure Alerts</h4>
                      </div>
                      <div class="container configalerts">
                        <button class='btn btn-primary pull-right createAlert'  (click)='addAlert(configAlerts)'>Create Alert</button>
                        <table class="table table-borderless table-hover">
                          <thead>
                            <tr>
                              <th scope="col" class="alerttype">Application</th>
                              <th scope="col" class="alerttype">Type</th>
                              <th scope="col" class="alerttype">Activity</th>
                             <th scope="col" class="alerttype">Channel</th>
                             <th scope="col" class="alerttype" style="text-align:center">Mail</th>
                             <th scope="col" class="alerttype" style="text-align:center">Mobile</th>
                             <th scope="col" class="alerttype">Action</th>
                            </tr>
                          </thead>
                          <tbody >
                            <tr *ngFor="let data of alertslistactivitiesdata | paginate: { itemsPerPage: 5, currentPage: p }; let l=index">
                              <td>{{data.app_name}}</td>
                              <td>{{data.type}}</td>
                              <td>{{data.activity_name}}</td>
                              <td>{{data.channel}}</td>
                              <td style="text-align:center">{{data.mail_to?data.mail_to:'-'}}</td>
                              <td style="text-align:center">{{data.text_to?data.text_to:'-'}}</td>
                              <td  class="deleticon"><span  (click)="updateselecttedalertdata(data,l,alertdetailstemplate)"><img src="assets/images/eyeIcon.svg" alt=""> </span>
                                <span  (click)="alertsdeletedata(data.id,l)"> <img src="assets/images/unsubscribe.svg" alt=""></span>
                                <div id="myid" [ngClass]="selectedalertdet === l?'isdelet':''" class="deletconfm">
                                  <div class="container-fluid deletefrm">
                                      <h5 class="pull-left">Confirmation</h5>
                                      <button type="button" class="close " aria-label="Close" (click)="unsubscribealertNo(l)">
                                      <span aria-hidden="true">&times;</span>
                                      </button>
                                      <p class="pull-left">Are you sure you want to delete the alert ?</p>
                                       <button class="pull-left confm" (click)="alertDelYes(data.id,l)">Yes</button>
                                       <button class="confm pull-left" (click)="unsubscribealertNo(l)">No</button>
                                  </div>
                              </div>
                              </td>
                            </tr>
                            <tr *ngIf="alertslistactivitiesdata.errorMessage=='No records found' ">
                              
                                <div class="norecords"><h4>No records found</h4></div>
                             
                              </tr>

                          </tbody>
                        </table>
                        <div *ngIf="alertslistactivitiesdata.errorMessage!='No records found'" class="alertspagination">
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                        </div>
                    
                </div>
                      </div>
                  </div>



                <div class="container users" *ngIf="isusers">
                        <div  class="">
                            <tabset >
                            <tab  *ngIf="this.userRole.includes('Admin')" heading="Users" id="tab1">
                                <div class="search-One">
                                    <form class="form-inline d-flex  md-form form-sm">
                                        <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchUser" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                        <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                      </form>
                                    </div>
                            <div class="container usermanagement">
                                    <table class="table table-borderless table-hover">
                                      <thead>
                                        <tr>
                                          <th scope="col" class="types">User ID</th>
                                          <th scope="col" class="types">First Name</th>
                                          <th scope="col" class="types">Last Name</th>
                                          <th scope="col" class="types">Designation</th>
                                          <th scope="col" class="types">Organisation</th>
                                          <!-- <th scope="col" class="types">Department</th> -->
                                          <th scope="col" class="types">Product</th>
                                          <th scope="col" class="types">Roles</th>
                                          <th scope="col" class="types">Action</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr *ngFor="let userdata of userManagement | FilterPipe:searchUser; trackBy:loopTrackBy; let j= index">
                                          <td>{{userdata.userId}}</td>
                                          <td>{{userdata.firstName}}</td>
                                          <td>{{userdata.lastName}}</td>
                                          <td>{{userdata.designation}}</td>
                                            <td>{{userdata.company}}</td>
                                            <!-- <td>{{userdata.department}}</td> -->
                                            <td >{{userdata.applicationIdname}}</td>
                                            <td class="types">{{userdata.roleIdname}}</td>
                                            <td class="deleticon">
                                              <span  (click)="updateSelectedUserRole(userdata, j, updateRoleTemplate)">
                                              <img src="assets/images/eyeIcon.svg" alt=""> </span>
                                              <!-- <span  (click)="roledel(role.id,j)"> -->
                                                

                                              <!-- <img src="assets/images/unsubscribe.svg" alt=""></span> -->
                                              <!-- <div id="myid" [ngClass]="selectedIndex == j?'isdelet':''" class="deletconfm">
                                                  <div class="container-fluid deletefrm">
                                                      <h5 class="pull-left">Confirmation</h5>
                                                      <button type="button" class="close " aria-label="Close" (click)="unsubscribeNo(j)">
                                                      <span aria-hidden="true">&times;</span>
                                                      </button>
                                                      <p class="pull-left">Are you sure you want to delete the role ?</p>
                                                       <button class="pull-left confm" (click)="roleDelYes(role.id,j)">Yes</button>
                                                       <button class="confm pull-left" (click)="unsubscribeNo(j)">No</button>
                                                  </div>
                                              </div> -->
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                            </div>
                      </tab>
                      <!-- <tab *ngIf="this.userRole.includes('Admin')" heading="Departments">
                          <div class="search-One">
                              <form class="form-inline d-flex  md-form form-sm">
                                  <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchUser" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                  <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                </form>
                              </div>
                            <div class="container department">
                            <table class="table table-borderless table-hover">
                                    <thead>
                                      <tr>
                                        <th scope="col" class="types">User Id</th>
                                        <th scope="col" class="types">First Name</th>
                                        <th scope="col" class="types">Last Name</th>
                                        <th scope="col" class="types">Designation</th>
                                        <th scope="col" class="types">Organisation</th>
                                        <th scope="col" class="types">Department</th>
                                        <th scope="col" class="types">Product</th>
                                        <th scope="col" class="types">Roles</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let userdata of userManagement | FilterPipe:searchUser; trackBy:loopTrackBy;">
                                            <td>{{userdata.id}}</td>
                                            <td>{{userdata.firstName}}</td>
                                            <td>{{userdata.lastName}}</td>
                                            <td>{{userdata.designation}}</td>
                                            <td>{{userdata.company}}</td>
                                            <td>{{userdata.department}}</td>
                                            <td >{{userdata.applicationIdname}}</td>
                                            <td >{{userdata.roleIdname}}</td>
                                            </tr>
                                    </tbody>
                                  </table>
                            </div>
                          </tab> -->

                         <tab *ngIf="true" heading="Roles">
                            <div class="search-One">
                                <form class="form-inline d-flex  md-form form-sm">
                                    <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchUser" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                    <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                  </form>
                                </div>
                            <div class="container role">
                              
                                <button *ngIf="this.userRole.includes('SuperAdmin')" class='btn btn-primary pull-right addCard' (click)='addrole(createRole)'>Add New Role</button>
                                    <table class="table table-borderless table-hover">
                                            <thead>
                                              <tr>
                                                <th scope="col" class="types">Product</th>
                                                <th scope="col" class="types">Role</th>
                                                <th scope="col" class="types">Description</th>
                                                <th scope="col" class="types">Permissions</th>
                                                <th *ngIf="this.userRole.includes('SuperAdmin')" scope="col" class="types">Action</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr *ngFor="let role of allRoles | FilterPipe:searchUser; trackBy:loopTrackBy; let j= index">
                                                <td>{{role.appliationId.name}}</td>
                                                <td>{{role.name}}</td>
                                                <td>{{role.description}}</td>
                                                <td >
                                                  <div > 
                                                    <div *ngFor="let perm of role.permission;let k=index">
                                                    <div><span *ngIf="isOpened!=role.id&&k<2">{{perm.permissionName|titlecase}}</span></div>
                                                    <span *ngIf="isOpened==role.id">{{perm.permissionName|titlecase}}</span>
                                                    </div>
                                                    <span class="loadRole" *ngIf="isOpened !=role.id&&role.permission.length>=3" (click)="myFunction(role)" >Load more</span>
                                                    <span class="hideRole" *ngIf="isOpened == role.id" (click)="hideroleslist(j)">Hide</span>
                                                    </div>
                                                </td>
                                                <td *ngIf="this.userRole.includes('SuperAdmin')" class="deleticon">
                                                    <span  (click)="selectedroledata(role,j,rolestemplate)">
                                                    <img src="assets/images/eyeIcon.svg" alt=""> </span>
                                                    <span  (click)="roledel(role.id,j)"> 
                                                    <img src="assets/images/unsubscribe.svg" alt=""></span>
                                                    <div id="myid" [ngClass]="selectedIndex == j?'isdelet':''" class="deletconfm">
                                                        <div class="container-fluid deletefrm">
                                                            <h5 class="pull-left">Confirmation</h5>
                                                            <button type="button" class="close " aria-label="Close" (click)="unsubscribeNo(j)">
                                                            <span aria-hidden="true">&times;</span>
                                                            </button>
                                                            <p class="pull-left">Are you sure you want to delete the role ?</p>
                                                             <button class="pull-left confm" (click)="roleDelYes(role.id,j)">Yes</button>
                                                             <button class="confm pull-left" (click)="unsubscribeNo(j)">No</button>
                                                        </div>
                                                    </div>
                                                </td>
                                               
                                               </tr>
                                            </tbody>
                                          </table>
                            </div>
                            </tab>



                            <tab *ngIf="this.userRole.includes('SuperAdmin')" heading="Permissions">
                              <div class="search-One">
                                  <form class="form-inline d-flex  md-form form-sm">
                                      <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchUser" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
                                      <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
                                    </form>
                                  </div>
                              <div class="container role">
                                
                                  <button *ngIf="this.userRole.includes('SuperAdmin')" class='btn btn-primary pull-right addCard' (click)='addpermission(createPermission)'>Add New Permission</button>
                                      <table class="table table-borderless table-hover">
                                              <thead>
                                                <tr>
                                                  <th scope="col" class="types">Permission</th>
                                                  <th scope="col" class="types">Description</th>
                                                  <th scope="col" class="types">Created At</th>
                                                  <th scope="col" class="types">Modified At</th>
                                                  <th *ngIf="this.userRole.includes('SuperAdmin')" scope="col" class="types">Action</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <tr *ngFor="let permission of permissionsList | FilterPipe:searchUser; trackBy:loopTrackBy; let p= index">
                                                  <td>{{permission.permissionName}}</td>
                                                  <td>{{permission.description}}</td>
                                                  <td>{{permission.created_at | date:'medium'}}</td>
                                                  <td>{{permission.modified_at | date:'medium'}}</td>
                                                  <td *ngIf="this.userRole.includes('SuperAdmin')" class="deleticon">
                                                      <span  (click)="selectedpermdata(permission,p,permtemplate)">
                                                      <img src="assets/images/eyeIcon.svg" alt=""> </span>
                                                      <span  (click)="permdel(permission.id,p)"> 
                                                      <img src="assets/images/unsubscribe.svg" alt=""></span>
                                                      <div id="myid" [ngClass]="selectedIndex === p?'isdelet':''" class="deletconfm">
                                                          <div class="container-fluid deletefrm">
                                                              <h5 class="pull-left">Confirmation</h5>
                                                              <button type="button" class="close " aria-label="Close" (click)="unsubscribeNo(p)">
                                                              <span aria-hidden="true">&times;</span>
                                                              </button>
                                                              <p class="pull-left">Are you sure you want to delete the permission ?</p>
                                                               <button class="pull-left confm" (click)="permDelYes(permission.id,p)">Yes</button>
                                                               <button class="confm pull-left" (click)="unsubscribeNo(p)">No</button>
                                                          </div>
                                                      </div>
                                                 
                                                 </tr>
                                              </tbody>
                                            </table>
                              </div>
                              </tab>



                                                  </tabset>
                </div>
            </div>


<div class="container coupons" *ngIf="isCoupon">
  <div  class="">
      <tabset >
            <tab heading="Coupon">
      <div class="search-One">
          <form class="form-inline d-flex  md-form form-sm">
              <input class="form-control searchOne" type="text" placeholder="Search" #search="ngModel" [(ngModel)]="searchUser" aria-label="Search" [ngModelOptions]="{standalone: true}"/>
              <i class="fa fa-fw fa-search usersearch" aria-hidden="true"></i>
            </form>
          </div>
      <div class="container coupons">
        
          <button *ngIf="this.userRole == 'SuperAdmin'" class='btn btn-primary pull-right addCard' (click)='createCoupon(createcoupon)'>Create Coupon</button>
              <table class="table table-borderless table-hover">
                      <thead>
                        <tr>
                          <th scope="col" class="types">Coupon ID</th>
                          <th scope="col" class="types">Coupon Name</th>
                          <th scope="col" class="types">Amount Off</th>
                          <th scope="col" class="types">Percentage Off</th>
                          <th scope="col" class="types">Available Redeemptions</th>
                          <th scope="col" class="types">Expires By</th>
                          <th scope="col" class="types">No. of Redemptions

                          </th>
                          <th *ngIf="this.userRole == 'SuperAdmin'" scope="col" class="types">Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let coupon of allCoupons | FilterPipe:searchUser; trackBy:loopTrackBy; let j= index">
                          <td>{{coupon.id}}</td>
                          <td>{{coupon.name}}</td>
                          <td >{{coupon.amountOff}}</td>
                          <td >{{coupon.percentOff}}</td>
                          <td >{{availableRedeemptions}}</td>
                          <td >{{coupon.redeemBy | date }}</td>
                          <td>{{coupon.maxRedemptions}}</td>
                          <td *ngIf="this.userRole == 'SuperAdmin'" class="deleticon">
                            <div class="row"> <span  (click)="selectedCoupondata(coupon,j,modifyCoupon)">
                              <img src="assets/images/eyeIcon.svg" alt=""> </span>
                              <span  (click)="couponDel(coupon.id,j)"> 
                              <img src="assets/images/unsubscribe.svg" alt=""></span>
                             </div>
                              <div id="myid" [ngClass]="selectedIndex == j?'isdelet':''" class="deletconfm">
                                  <div class="container-fluid deletefrm">
                                      <h5 class="pull-left">Confirmation</h5>
                                      <button type="button" class="close " aria-label="Close" (click)="unsubscribeNo(j)">
                                      <span aria-hidden="true">&times;</span>
                                      </button>
                                      <p class="pull-left">Are you sure you want to delete this coupon ?</p>
                                       <button class="pull-left confm" (click)="couponDelYes(coupon.id,j)">Yes</button>
                                       <button class="confm pull-left" (click)="unsubscribeNo(j)">No</button>
                                  </div>
                              </div>
                         
                         </tr>
                      </tbody>
                    </table>
      </div>
      </tab>
    
    </tabset>
</div>
</div>



            <div *ngIf="isnotification" class="container">
              <div class="row">
                <div class="col-md-12">
                    <h4 class="noticationheading">Notifications</h4>
                </div>
                <div class="notificatnmsgs col-md-12">
                    <table class="table table-borderless table-hover">
                            <thead>
                              <tr>
                                <th scope="col" style="width:60%;">Notification Message</th>
                                <th scope="col" style="width:300px;">Date</th>
                                <th scope="col" style="width:200px;">Time</th>
                                <!-- <th scope="col" style="width:200px !important;">Action</th> -->
                              </tr>
                            </thead>
                            <tbody *ngIf="notificationList.errorMessage==undefined ">
                              <tr *ngFor="let messageList of notificationList | paginate: { itemsPerPage: 2, currentPage: c }; let i = index; trackBy:loopTrackBy;">
                                <td>{{messageList.notificationAuditId[0].contentType}}</td>
                                <td>{{messageList.createdAt | date}}</td>
                                <td>{{messageList.createdAt | date:"HH:mm:ss"}}</td>
                              </tr>
                            </tbody>
                            <tbody  *ngIf="notificationList.errorMessage=='No records found' " >
                              <div class="ntfnorecords"><h4>No records found</h4></div>
                            </tbody>
                          </table>
                          <div *ngIf="notificationList.errorMessage!='No records found'" class="notificationpagination">
                            <pagination-controls (pageChange)="c = $event"></pagination-controls>
                            </div>
                </div>
            </div>
          </div>

    </div>

    <ng-template #template >
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title" >We are sorry to see you go</h4>
        <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button> -->
      </div>
      <div class="modal-body">
        
        <div class="col-md-12 subheadin">
          <p>If you have a moment, please let us know why you want to unsubscribe:</p>
        </div>
        <div class="col-md-12 infocheck">
          <input type="checkbox" [(ngModel)]="stopcheckbox" ><span>I stopped using this account</span>
        </div>
        <div class="col-md-12 infocheck">
            <input type="checkbox" [(ngModel)]="pricecheckbox"> <span>Price of the plan is high</span>
          </div>
          <div class="col-md-12 infocheck">
              <input type="checkbox" [(ngModel)]="plancheckbox"> <span>Subscribed another plan</span>
            </div>
        <div class="col-md-12" class="textfield">
          <p>If other reason (please explain below).</p>
          <textarea name="feedback" [(ngModel)]="feedbackbox"></textarea>
        </div>
          </div>
        
    <div class="modal-footer">
      <div class="">
        <div class="col-12">
          <div class="form-group form-buttons pull-right buttonsblock">
            <button class="btn btn-secondary cancel_feedbackbtn" type="reset" (click)="CancelSubform()"><div class="anim"></div> Cancel</button>
            <button class="btn btn-primary submit_feedbackbtn" (click)="subscriptionCancelModalSubmit()">Submit</button>
          </div>
    <div class="clearfix">
    </div>
    </div>
    </div>
    </div>
        </ng-template>
        <ng-template #detailstemplate >
          <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title" >Subscription Details</h4>
            <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
            </button> -->
          </div>
          <form autocomplete="off" #updatesubscription="ngForm">
          <div class="modal-body">
            
          <div class="col-md-12 ">
            <label for="subscriptionid">Subscription ID </label>
            <input type="text" [disabled]=true name="subscriptionid" #subscriptionid="ngModel" class="form-control botmbordr" [(ngModel)]="subscribeddata.subscriptionId"/>    
          </div>
          <div class="col-md-12 ">
            <label for="product">Product </label>
                    <input type="text" [disabled]=true name="product" #product="ngModel" class="form-control botmbordr" [(ngModel)]="subscribeddata.name"/> 
            </div>
            <div class="col-md-12 ">
              <label for="planid">Plan ID </label>
                      <input type="text" [disabled]=true name="planid" #planid="ngModel" class="form-control botmbordr" [(ngModel)]="subscribeddata.planId"/>
              </div>
              <div class="col-md-12 ">
                <label for="billingaccount">Billing Account </label>
                <input type="text" [disabled]=true name="billingaccount" #billingaccount="ngModel" class="form-control botmbordr" [(ngModel)]="subscribeddata.billingService.billingAccount"/>
                </div>
               <div class="col-md-12 ">
                <label for="status">Status </label>
                <input type="text" [disabled]=true name="status" #status="ngModel" class="form-control botmbordr" [(ngModel)]="subscribeddata.status"/>     
                 </div>
              </div>
            
        <div class="modal-footer">
          <div class="">
            <div class="col-12">
              <div class="col-md-12">
                <div class="form-group form-buttons pull-right buttonsblock">
                  <button class="btn btn-secondary cancel_sub_btn" type="reset" (click)="changePlanCancel()"><div class="anim"></div> Cancel</button>
                  <button class="btn btn-primary change_plan" (click)="infoModelSubmit()">Change Plan</button>
              </div>
            </div>
        <div class="clearfix">
        </div>
        </div>
        </div>
        </div>
      </form>
          </ng-template>
          <ng-template #addCard >
            <form autocomplete="off" #addpaymentmode="ngForm" (ngSubmit)="addNewCard()" class="card_form">
                    <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title" >Add New Card</h4>
                        <button type="button" class="close" aria-label="Close" (click)="cancelAddCard()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
            
                    <div class="modal-body">
                        <div class="">
                        <div class="col-12 row">        
                          <div class="form-group col-sm-8">
                                <label for="cardHolder">Cardholder Name</label>
                                <input type="text" name="cardHolder" #cardHolder="ngModel" [(ngModel)]="cardModel.cardHoldername" class="form-control payment-input" id="cardHolder" placeholder="Cardholder Name" required/>
                                <span *ngIf="((cardHolder.invalid && addpaymentmode.submitted) || (cardHolder.errors && cardHolder.touched) )" 
                                class='fa fa-info-circle errspan'> Cardholder Name is required </span>
                    </div>
                    
                    <div class="form-group col-sm-8">
                            <label for="cardNumber">Card Number</label>
                            <input type="text" class="cc-number form-control payment-input" (keypress)="numberOnly($event)" minlength="16" maxlength="16" required name="cardNumber" #cardNumber="ngModel" 
                            [(ngModel)]="cardModel.cardNumber" id="cardNumber" placeholder="Card Number" required/>
                            <span *ngIf="((cardNumber.invalid && addpaymentmode.submitted) || (cardNumber.errors && cardNumber.touched) )" 
                            class='fa fa-info-circle errspan'> Card Number is required</span>
                    </div>
                    <div class="form-group col-sm-4">
                            <label for="cvv">CVV</label>
                            <input type="password" class="form-control payment-input" (keypress)="numberOnly($event)" minlength="3" maxlength="3" required name="cvv" #cvv="ngModel" 
                            [(ngModel)]="cardModel.cvvNumber" id="cvv" placeholder="CVV" required/>
                          <span *ngIf="((cvv.invalid && addpaymentmode.submitted) || (cvv.errors && cvv.touched) )" 
                          class='fa fa-info-circle errspan'> CVV required</span>
                    </div>
                    <div class="form-group col-sm-6 state_input">
                            <label for="month">Month (MM)</label>
                            <select id="month" name="month" class="form-control payment-input" #month="ngModel"  [(ngModel)]="cardModel.cardmonth" required>
                                <option  [value]="undefined" disabled hidden>Select Month</option>
                              <option value="01">01</option>
                              <option value="02">02</option>
                              <option value="03">03</option>
                              <option value="04">04</option>
                              <option value="05">05</option>
                              <option value="06">06</option>
                              <option value="07">07</option>
                              <option value="08">08</option>
                              <option value="09">09</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>
                            </select>
                            <span *ngIf="((month.invalid && addpaymentmode.submitted) || (month.errors && month.touched) )" 
                              class='fa fa-info-circle errspan'> Month required</span>
                    </div>
                    <div class="form-group col-sm-6 state_input">
                            <label for="year">Year (YYYY)</label>
                            <select id="year" class="form-control payment-input" name="year" #year="ngModel" [(ngModel)]="cardModel.cardyear" required >
                              <option  [value]="undefined" disabled hidden>Select Year</option>
                              <option *ngFor="let obj of yearList" [ngValue]="obj.value">{{obj.year}}</option>
                            </select>
                            <span *ngIf="((year.invalid && addpaymentmode.submitted) || (year.errors && year.touched) )" 
                                class='fa fa-info-circle errspan'> Year required</span>
                    </div>
                    <div class='form-group set_default'>
                      <input type="checkbox" class=""  #setdefault='ngModel' [(ngModel)]='isdefault' name="isdefault" > <span> Set As Default</span>
                  </div>
                  </div>
                </div>
                </div>
            
                <div class="modal-footer">
                    <div class="">
                      <div class="col-12">
                  <div class="form-group form-buttons pull-right buttonsblock">        
                      <!-- <button class="btn btn-secondary cancel_btn" type="reset" (click)="cancelAddCard()"><div class="anim"></div> Cancel</button> -->
                      <button class="btn btn-primary updatepermbtn" [disabled] = "addpaymentmode.invalid" type="submit"><div class="anim"></div> Save</button>
                  </div>
                  
                  <div class="clearfix">
                  
                  </div>
                  
                  </div>
                  </div>
                  </div>
                </form>
            </ng-template>

            <!--alerts-->
            <ng-template #alertdetailstemplate >
              <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title" >Alert Details</h4>
                    <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="updateAlertCancel()"> 
                    <span aria-hidden="true">&times;</span>
                  </button>-->
             
              </div>
              <form autocomplete="off" #updatealert="ngForm">
              <div class="modal-body">
                
              <div class="col-md-12 ">
                <label for="subscriptionid">Application : </label>
                <!-- <input type="text" [disabled]=true  name="app_name" #app_name="ngModel" class="form-control botmbordr" [(ngModel)]="alertslistactivitiesdata.app_name"/>      -->
                <select name="app_name" #app_name="ngModel" class="form-control botmbordr" [(ngModel)]="updateApplication" required>
                  <option  [value]="undefined" disabled hidden>Select Type</option>
                  <option  [value]="null" disabled hidden>Select Type</option>
                  <option [value]="alertslistactivitiesdata.app_name">{{alertslistactivitiesdata.app_name}}</option>
              </select>
              </div>
              <div class="col-md-12 ">
                <label for="product">Type : </label>
                <!-- <input type="text"  name="type" #type="ngModel" class="form-control botmbordr" [(ngModel)]="alertslistactivitiesdata.type"/>      -->
                <select name="type1" #type1="ngModel" class="form-control botmbordr" [(ngModel)]="updateType" required>
                  <option  [value]="undefined" disabled hidden>Select Type</option>
                  <option  [value]="null" disabled hidden>Select Type</option>
                  <option value="Success">Success</option>
                  <option value="Failure">Failure</option>
              </select>
                </div>
                <div class="col-md-12 ">
                  <label for="planid">Activity : </label>
                  <!-- <input type="text"  name="activity_name" #activity_name="ngModel" class="form-control botmbordr" [(ngModel)]="alertslistactivitiesdata.activity_name"/>      -->
                   <select name="activity_name1" #activity_name1="ngModel" class="form-control botmbordr" [(ngModel)]="updateActivities" required>
                    <option  [value]="undefined" disabled hidden>Select Activities</option>
                    <!-- <option  [value]="null" disabled hidden>Select Activities</option> -->
                     <option *ngFor="let each of activitieslist" [value]="each.activity">{{each.activity}}</option>
                </select> 
                  </div>
                    <br>
                  <div class="col-md-12 ">
                    <label for="status">Channel : </label><br>
                    <!-- <input type="text" [disabled]=true name="channel" #channel="ngModel" class="form-control botmbordr" [(ngModel)]="alertslistactivitiesdata.channel"/>      -->
                    Push Notifications <input type="checkbox"  name="pushcheck"  [(ngModel)]="isPushNotificationcheckBoxValue"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Email <input type="checkbox"  name="emailcheck"   [(ngModel)]="isEmailcheckBoxValue"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                   SMS <input type="checkbox"  name="smscheck"   [(ngModel)]="isSMScheckBoxValue"/>
                    </div>
                   <br>
                    <div class="col-md-12">
                      <div *ngIf=isEmailcheckBoxValue>
                      <label for="configalerts">Mail To</label>
                      <input type="text" name="mail_to1" #mail_to1="ngModel" class="form-control botmbordr" [(ngModel)]="updateMail" #email="ngModel"
                      required mail_to1  placeholder="Email address ex: abc@xyz.com" />
                      <!-- <span *ngIf="((mail_to1.invalid && configAlerts.submitted) || (mail_to1.errors && mail_to1.touched) ) "
                                                        class='fa fa-info-circle errspan'>
                                                        <span *ngIf="mail_to1.errors.required"> Email is required</span>
                                                        <span *ngIf="mail_to1.errors.pattern"> Enter valid email address</span>
                                                      </span> -->
                    </div>
                  </div>
                  
                  <div class="col-md-12">
                    <div *ngIf=isSMScheckBoxValue>
                    <label for="configalerts">Text To</label>
                    <input type="text" name="text_to1" #text_to1="ngModel"  class="form-control botmbordr" [(ngModel)]="updatetext_to" 
                      text_to1 placeholder="Enter Mobile Number ex:+91-9999999999" />
                    <!-- <span *ngIf="((text_to1.invalid && configAlerts.submitted) || (text_to1.errors && text_to1.touched) ) "
                                                        class='fa fa-info-circle errspan'>
                                                        <span *ngIf="text_to1.errors.required"> Mobile number is required</span>
                                                        <span *ngIf="text_to1.errors.pattern"> Enter valid mobile number</span>
                                                      </span> -->

                                                      
                  </div>
                  </div>
                   <br><br>
            
  
                  </div>
                
            <div class="modal-footer">
              <div class="">
                <div class="col-12">
                  <div class="col-md-12">
                    <div class="form-group form-buttons pull-right buttonsblock">
                    <button class="btn btn-secondary cancel_modify_btn" type="reset" (click)="updateAlertCancel()"><div class="anim"></div> Cancel</button>
                    <button  class="btn btn-primary update_alert" (click)="modifyalert(alertslistactivitiesdata)">Update</button>
                  </div>
                </div>
            <div class="clearfix">
            </div>
            </div>
            </div>
            </div>
          </form>
              </ng-template>
              
            <ng-template #configAlerts >
              <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title" >Configure Alerts</h4>
                <button type="button" class="close" aria-label="Close" (click)="cancelAlert()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <form autocomplete="off" id="configurealert" name="configurealert" #configurealert="ngForm">
              <div class="modal-body">
                
                
            <div class="form-group">
              <label for="application">Application</label>
              <select name="product" class="form-control" (change)="onChange($event.target.value)" [(ngModel)]="alertsapplication" required>
                <option [value]="undefined" disabled hidden>Select Application</option>
                <option [value]="null" disabled hidden>Select Application</option>
                <option *ngFor="let product of application"  [value]="product.id">{{product.displayName}}</option>
                </select>
            </div>
            <div class="infocheck">
              <label for="activity">Activity</label>
              <ng-select [multiple]="true" name="activity" placeholder="Select Activities" [items] ="activitieslist" (change)="changeActivity()"
              bindValue = "activity"
              bindLabel = "activity"
              [(ngModel)]="alertsactivities" required>
              
              <!-- <ng-option *ngFor="let item of activitieslist" [value]="item.id">{{ item.activity }}</ng-option> -->
              </ng-select>
            </div>
          <br>
            <div class="form-group">
                    <label for="configalerts">Type</label>
                    <select class="form-control" name="configuretype" [(ngModel)]="selectedtype" required>
                        <option  [value]="undefined" disabled hidden>Select Type</option>
                        <option  [value]="null" disabled hidden>Select Type</option>
                        <option value="Success">Success</option>
                        <option value="Failure">Failure</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="configalerts">Channel</label><br>
                    Push Notifications <input type="checkbox"  name="pushcheck"  [(ngModel)]="isPushNotificationcheckBoxValue"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Email <input type="checkbox"  name="emailcheck"   [(ngModel)]="isEmailcheckBoxValue"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                   SMS <input type="checkbox"  name="smscheck"   [(ngModel)]="isSMScheckBoxValue"/>
                  </div>

                  <div class="form-group">
                    <div *ngIf=isEmailcheckBoxValue>
                    <label for="configalerts">Mail To</label>
                    <input type="text" name="email" class="form-control" [(ngModel)]="emailselected" #email="ngModel" 
                    pattern="^\S*[@]\S*[.]\S*$" required email  placeholder="Email address ex: abc@xyz.com" required/>
                    <span *ngIf="((email.invalid && configAlerts.submitted) || (email.errors && email.touched) ) "
                                                      class='fa fa-info-circle errspan'>
                                                      <span *ngIf="email.errors.required"> Email is required</span>
                                                      <span *ngIf="email.errors.pattern"> Enter valid email address</span>
                                                    </span>
                  </div>
                </div>

                <div class="form-group">
                  <div *ngIf=isSMScheckBoxValue>
                  <label for="configalerts">Text To</label>
                  <input type="text" name="mobile" class="form-control" [(ngModel)]="smsselected" #mobile="ngModel" 
                    mobile placeholder="Enter Mobile Number ex:+91-9999999999"  />
                  <!-- <span *ngIf="((mobile.invalid && configAlerts.submitted) || (mobile.errors && mobile.touched) ) "
                                                      class='fa fa-info-circle errspan'>
                                                      <span *ngIf="mobile.errors.required"> Mobile number is required</span>
                                                      <span *ngIf="mobile.errors.pattern"> Enter valid mobile number</span>
                                                    </span> -->
                </div>
              </div>

                  </div>
                
            <div class="modal-footer">
              <div class="">
                <div class="col-12">
            <div class="form-group form-buttons pull-right buttonsblock">        
                <button class="btn btn-secondary cancel_btn" type="reset" (click)="cancelAlert()"><div class="anim"></div> Cancel</button>
                <button [disabled]="configurealert.invalid || showErr" class="btn btn-primary btn-save"  type="submit" (click)="saveConfig()"><div class="anim" ></div> Save</button>
            </div>
            
            <div class="clearfix">
            </div>
            </div>
            </div>
            </div>
          </form>
           </ng-template>



            <ng-template #rolestemplate >

              <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title" >Modify Role</h4>
                <button type="button" class="close" aria-label="Close" (click)="modalRef.hide()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
    
            <div class="modal-body">
                      <div class="col-md-12 infocheck ">

                       <label for="role">Role</label>
                        <input type="text"  name="role" #role="ngModel" class="form-control botmbordr" [(ngModel)]="roledata.name"/>     
                                  </div>
                      <div class="col-md-12 infocheck">
                        <label for="roledescription">Description</label>
                        <input type="text"  name="roledescription" #roledescription="ngModel" class="form-control botmbordr" [(ngModel)]="roledata.description"/>     
     
                        </div>
                        <div class="col-md-12 infocheck">
                          <label for="application">Product</label>
                          <ng-select [multiple]="false" 
                          
                          [(ngModel)]="selectedApp"
                          bindValue = "name"
                          bindLabel = "name">
                         
                            <!-- <ng-option *ngFor="let item of applications" [value]="item.id">{{item.name}}</ng-option> -->
                          </ng-select>

                         
                          <!-- <select class="form-control botmbordr" [(ngModel)]="roledata.appliationId" (change)="selected()">
                            <option *ngFor="let item of applications" [ngValue]="item">{{item.name}}</option>
                        </select>      -->
       
                          </div>


                          <div class="col-md-12 ">
                            <label>Permissions</label>
                            <div class="infocheck scrollpermissions">

                              <ng-select [multiple]="true" [(ngModel)]="permidlist" placeholder = "Select Permissions">
                                <ng-option *ngFor="let permi of permissionsList" [value]="permi.id">{{permi.permissionName}}</ng-option>
                              </ng-select>
                           
                 
                </div>
                           
                            </div>
                                         
                                 
                      <div class="col-md-12 submitbtn float-right">
                        <button class="btn btn-primary clearbtn" (click)="modifyrole(roledata)">Update</button>
                      </div>
                   </div>
              </ng-template>

              <ng-template #updateRoleTemplate >
                
                    <div class="modal-header">
                      <h4 class="modal-title" id="modal-basic-title" >Update User Roles</h4>
                          <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="updateAlertCancel()"> 
                          <span aria-hidden="true">&times;</span>
                        </button>-->
                        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                   
                    </div>
                    <form autocomplete="off" #updateUserRole="ngForm">
                    <div class="modal-body">
                      <div class="col-md-12 infocheck">
                        <label for="subscriptionid">User ID : </label>
                        <input type="text" [disabled]=true name="useriD" #useriD="ngModel" class="form-control botmbordr" [(ngModel)]="roleListdata.userId"/>     
                                  </div>
                      <div class="col-md-12 infocheck">
                        <label for="product">Product : </label>
                        <input type="text" [disabled]=true name="product" #product="ngModel" class="form-control botmbordr" [(ngModel)]="selectedApp"/>     
     
                        </div>
                    
                        <div class="col-md-12 infocheck">
                          <label for="role"> Role : </label>
                          <ng-select name = "multiroles" [multiple]="true" [items] =  "allRoles" [(ngModel)] = "testRolesList"
                           
                           bindValue = "name"
                           bindLabel = "name">


                           </ng-select>
                          
                        </div>
                          <br>
                        </div>
                      
                  <div class="modal-footer">
                    <div class="">
                      <div class="col-12">
                        <div class="col-md-12">
                          <div class="form-group form-buttons pull-right buttonsblock">
                          <!-- <button class="btn btn-secondary cancel_btn" tyep = "reset" (click)="modalRef.hide()"><div class="anim"></div> Cancel</button> -->
                          <button  class="btn btn-primary btn-rounded btn-block my-4 waves-effect update_alert" (click)="modifyUserRole(roleListdata)">Update</button>
                        </div>
                      </div>
                  <div class="clearfix">
                  </div>
                  </div>
                  </div>
                  </div>
                </form>
                </ng-template>

              <ng-template #createRole >
                <form autocomplete="off" #addpaymentmode="ngForm" (ngSubmit)="createNewRole()" class="card_form">
                        <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title" >Add New Role</h4>
                            <button type="button" class="close" aria-label="Close" (click)="cancelAddRole()">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                
                        <div class="modal-body">
                            <div class="">
                            <div class="col-12 row">        
                              <div class="col-md-12 infocheck">

                                <label for="role">Role</label>
                                 <input type="text"  name="role" #role="ngModel" class="form-control botmbordr" [(ngModel)]="roleName"/>     
                                           </div>
                               <div class="col-md-12 infocheck">
                                 <label for="roledescription">Description </label>
                                 <input type="text"  name="roledescription" #roledescription="ngModel" class="form-control botmbordr" [(ngModel)]="roleDescription"/>     
              
                                 </div>
                                 <div class="col-md-12 infocheck">
                                   <label for="application">Product</label>
                                   <ng-select name = "applicationn" [multiple]="false" 
                                   [items] =  "applications"
                                   [(ngModel)]="selectedApplication"
                                   placeholder = "Select Product "
                                   bindValue = "id"
                                   bindLabel = "name"
                                   (change) = "permissionsByapp(selectedApplication)">
                                  
                                     <!-- <ng-option *ngFor="let item of applications" [value]="item.id">{{item.name}}</ng-option> -->
                                   </ng-select>
         
                                  
                                   <!-- <select class="form-control botmbordr" [(ngModel)]="roledata.appliationId" (change)="selected()">
                                     <option *ngFor="let item of applications" [ngValue]="item">{{item.name}}</option>
                                 </select>      -->
                
                                   </div>
                                   <div class="col-md-12 ">
                                     <label>Permissions</label>
                                     <div class="infocheck">
         
                                       <ng-select name = "permiss"[multiple]="true" [(ngModel)]="selectedpermidlist" placeholder = "Select Permissions">
                                         <ng-option *ngFor="let permi of permissionsList" [value]="permi.id">{{permi.permissionName}}</ng-option>
                                       </ng-select>
                                    
                          
                         </div>
                                    
                                     </div>
                                                  
                      </div>
                    </div>
                    </div>
                
                    <div class="modal-footer">
                        <div class="">
                          <div class="col-12">
                      <div class="form-group form-buttons pull-right buttonsblock">        
                          <!-- <button class="btn btn-primary cancelrole_btn" type="reset" (click)="cancelAddRole()"><div class="anim"></div> Cancel</button> -->
                          <button class="btn btn-primary clearbtn"  type="submit"><div class="anim"></div> Save</button>
                      </div>
                      
                      <div class="clearfix">
                      
                      </div>
                      
                      </div>
                      </div>
                      </div>
                    </form>
                </ng-template>


                <ng-template #createPermission >
                  <form autocomplete="off" #addpaymentmode="ngForm" (ngSubmit)="createNewPermission()" class="card_form">
                          <div class="modal-header">
                              <h4 class="modal-title" id="modal-basic-title" >Add New Permission</h4>
                              <button type="button" class="close" aria-label="Close" (click)="cancelAddPermission()">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                  
                          <div class="modal-body">
                              <div class="">
                              <div class="col-12 row">        
                                <div class="col-md-12 infocheck">
                                 
                                    <label for="application">Product </label>
                                    <ng-select name = "applicationn" [multiple]="false" 
                                    [items] =  "applications"
                                    [(ngModel)]="selectedApplication"
                                    placeholder = "Select Product "
                                    bindValue = "id"
                                    bindLabel = "name">
                                   
                                    </ng-select>
                 
                                    </div>
                                    <div class="col-md-12 infocheck">
                                  <label for="permission">Permission </label>
                                   <input type="text"  name="permission" #permission="ngModel" class="form-control botmbordr" [(ngModel)]="permName"/>     
                                             </div>
                                 <div class="col-md-12 infocheck">
                                   <label for="permdescription">Description </label>
                                   <input type="text"  name="permdescription" #permdescription="ngModel" class="form-control botmbordr" [(ngModel)]="permissionDescription"/>     
                
                                   </div>
                                   
                                                
                        </div>
                      </div>
                      </div>
                  
                      <div class="modal-footer">
                          <div class="">
                            <div class="col-12">
                        <div class="form-group form-buttons pull-right buttonsblock">        
                            <!-- <button class="btn btn-secondary cancel_btn" type="reset" (click)="cancelAddPermission()"><div class="anim"></div> Cancel</button> -->
                            <button class="btn btn-primary clearbtn"  type="submit"><div class="anim"></div> Save</button>
                        </div>
                        
                        <!-- <div class="clearfix">
                        </div> -->
                        </div>
                        </div>
                        </div>
                      </form>
                  </ng-template>



                  <ng-template #permtemplate >

                    <div class="modal-header">
                      <h4 class="modal-title" id="modal-basic-title" >Modify Permission</h4>
                      <button type="button" class="close" aria-label="Close" (click)="modalRef.hide()">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
          
                  <div class="modal-body">
                       <div class="col-md-12 infocheck pull-right">
                              <label for="application">Application </label>
                              <ng-select [multiple]="false" 
                              [items] =  "applications"
                              [(ngModel)]="selectedApp"
                              bindValue = "name"
                              bindLabel = "name">
                              </ng-select>
    
                             
                              <!-- <select class="form-control botmbordr" [(ngModel)]="roledata.appliationId" (change)="selected()">
                                <option *ngFor="let item of applications" [ngValue]="item">{{item.name}}</option>
                            </select>      -->
           
                              </div>
                            <div class="col-md-12 infocheck">
      
                             <label for="permission">Permission </label>
                              <input type="text"  name="permission" #permission="ngModel" class="form-control botmbordr" [(ngModel)]="permdata.permissionName"/>     
                                        </div>
                            <div class="col-md-12 infocheck">
                              <label for="permdescription">Description </label>
                              <input type="text"  name="permdescription" #permdescription="ngModel" class="form-control botmbordr" [(ngModel)]="permdata.description"/>     
           
                              </div>
                              
                                      
                                       
                            <div class="col-md-12 submitbtn">
                              <button class="btn btn-primary updatepermbtn" (click)="modifyperm(permdata)">Update</button>
                            </div>
                          </div>
                    </ng-template>


                <ng-template #createcoupon >
                  <form autocomplete="off" #couponform="ngForm" (ngSubmit)="createNewCoupon()" >
                  <div class="modal-header">
                    <h4 class="modal-title" id="modal-basic-title" >Create Coupon</h4>
                    <button type="button" class="close" aria-label="Close" (click)="cancelCreateCopon()">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="">
                      <div class="col-12 row">        
                        <div class="col-md-12 infocheck">
                         
                            <label for="couponName">Coupon Name</label>
                            <input type="text" name="couponName" #couponName="ngModel" maxlength="30" [(ngModel)]="couponNamename" class="form-control payment-input" id="couponName" placeholder="Enter Coupon Name" required/>
                            <!-- [ngClass]="{ 'is-invalid': ((cardHolder.invalid && paymentform.submitted) || (cardHolder.errors && cardHolder.touched) ) }" -->
                            <span *ngIf="((couponName.invalid && couponform.submitted) || (couponName.errors && couponName.touched) )" 
                            class='fa fa-info-circle errspan'> Coupon Name is required </span> <br>
                         
                         
                            <label for="couponId">Coupon ID</label>
                            <input type="text" class="cc-number form-control payment-input"  minlength="5" maxlength="10" required name="couponId" #couponId="ngModel" [(ngModel)]="couponIdId" placeholder="Enter Coupon ID" required/>
                            <span *ngIf="((couponId.invalid && couponform.submitted) || (couponId.errors && couponId.touched) )" 
                            class='fa fa-info-circle errspan'> Coupon ID is required</span> <br>
                            
                                <label class="radio-inline">Coupon Type</label><br>
                <input type="radio" class="payment-input" required name="couponType"  (change)='onChangeRadio($event.target.value)' value='percentageOff' />&nbsp;<span>Percentage Off</span><br>
                <input type="radio" class="payment-input" required name="couponType"(change)='onChangeRadio($event.target.value)' value='amountOff' />&nbsp;<span>Amount Off</span> <br>
                             
                <div *ngIf="isPercentage" >
                  
                  <input type="text" name="percentageOff"  maxlength="30" [(ngModel)]="percentageOffTot" class="form-control payment-input"  placeholder="Enter Percentage" required/>
                  <!-- [ngClass]="{ 'is-invalid': ((cardHolder.invalid && paymentform.submitted) || (cardHolder.errors && cardHolder.touched) ) }" -->
                  <!-- <span *ngIf="(( couponform.submitted) || (percentageOff.errors && percentageOff.touched) )" 
                  class='fa fa-info-circle errspan'> Coupon Name is required </span>  -->
                </div>
            
                <div *ngIf="isAmount" >
                
                  <input type="text" name="amountOff"  maxlength="30" [(ngModel)]="amountOff" class="form-control payment-input"  placeholder="Enter Amount" required/>
                  <!-- [ngClass]="{ 'is-invalid': ((cardHolder.invalid && paymentform.submitted) || (cardHolder.errors && cardHolder.touched) ) }" -->
                  <span *ngIf="((amountOff.invalid && couponform.submitted) || (amountOff.errors && amountOff.touched) )" 
                  class='fa fa-info-circle errspan'> Coupon Name is required </span> 
                </div>
              
              <!-- <div class="col-md-12">
                <label >Redeemption Limits</label><br>
            <input type="checkbox" class="payment-input" required name="couponRedeem"  (change)='onSelected($event.target.value)' value='redeemBy' />&nbsp;<span>Limit the date range when customers can redeem this coupon</span><br>
            <input type="checkbox" class="payment-input" required name="couponRedeem"(change)='onSelected($event.target.value)' value='redeemTimes' />&nbsp;Limit the total number of times  customers can redeem this coupon  
             
            <div *ngIf="isReedemBy" class="form-group col-sm-10">
            <label for="redeemby">Redeem By</label>
            <input type="text" name="redeemby"  maxlength="30" [(ngModel)]="redeemby" class="form-control payment-input"  placeholder="Enter percentage %" required/>
            [ngClass]="{ 'is-invalid': ((cardHolder.invalid && paymentform.submitted) || (cardHolder.errors && cardHolder.touched) ) }" -->
            <!-- <span *ngIf="(( couponform.submitted) || (percentageOff.errors && percentageOff.touched) )" 
            class='fa fa-info-circle errspan'> Coupon Name is required </span>  
            </div>
            
            <div *ngIf="isReedemTimes" class="form-group col-sm-10">
            <label for="redeemtimes">Redeem Times</label>
            <input type="text" name="redeemtimes"  maxlength="30" [(ngModel)]="redeemtimes" class="form-control payment-input"  placeholder="Enter Fixed amount" required/>
            [ngClass]="{ 'is-invalid': ((cardHolder.invalid && paymentform.submitted) || (cardHolder.errors && cardHolder.touched) ) }" -->
            <!-- <span *ngIf="((redeemtimes.invalid && couponform.submitted) || (redeemtimes.errors && redeemtimes.touched) )" 
            class='fa fa-info-circle errspan'> Coupon Name is required </span>  
            </div> -->
                            
            
            <!-- <div class="col-12 row">
              <div class="col-md-12 infocheck"> -->
                                <label for="duration">Coupon Valid</label>
                                <select id="duration" name="duration" class="cc-number form-control payment-input" #duration="ngModel"  [(ngModel)]="durationTime" required>
                                    <!-- <option  [value]="undefined" disabled hidden>Select Month</option> -->
                                  <option value="forever">Forever</option>
                                  <option value="once">Once</option>
                                        
                                </select>
              <!-- </div>
                                   </div> -->
                                 </div>
                              </div>
                           </div>
                  </div>
                              <div class="modal-footer">
                                <div class="">
                                  <div class="col-12">
                              <div class="form-group form-buttons pull-right  buttonsblock">        
                                  <!-- <button class="btn btn-secondary cancel_btn" type="reset" (click)="cancelCreateCopon()"><div class="anim"></div> Cancel</button> -->
                                  <button class="btn btn-primary clearbtn"  type="submit"><div class="anim"></div> Create</button>
                              </div>
                              
                              <!-- <div class="clearfix">
                              
                              </div> -->
                              
                              </div>
                              </div>
                              </div>
                        </form>
                  </ng-template>
                  <ng-template #modifyCoupon >
                   
                     
                      
                            <div class="modal-header">
                                <h4 class="modal-title">Modify Coupon</h4>
                                <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                            </div >
                            <div class="modal-body">
                            <div class="col-md-12 infocheck">
      
                             <label for="coupon">Coupon Name </label>
                              <input type="text"  name="coupon" #coupon="ngModel" class="form-control botmbordr" [(ngModel)]="coupondata.name"/>     
                                        </div>
                            <div class="col-md-12 infocheck">
                              <label for="couponName">Coupon ID  </label>
                              <input type="text"  name="couponName" #couponName="ngModel" class="form-control botmbordr"[disabled]="true" [(ngModel)]="coupondata.id"/>     
           
                              </div>
                           
                                               
                                       
                            <div class="col-md-12 submitbtn">
                              <button class="btn btn-primary updatepermbtn" (click)="modifycoupon(coupondata)">Update</button>
                            </div>
                         </div>
                      
                     
                    </ng-template>
