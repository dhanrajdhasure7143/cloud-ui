
<div class="container-fluid">
    <div class="row">
        <!-- <div class="col-sm-4">
            <img class="login-bg" src="assets/images/loginimage.png" alt="">
        </div> -->
      
        <div class="newpasswordblock">
          <mat-card class="change_password_mat">
            <div class="brand">
              <img style="width: 220px !important;
                              margin-left: 80px !important;
                              margin-top: 20px !important;
                              margin-bottom: 20px !important;" src="assets/images/EZFlow.png" alt="EZFlow">
            </div>
            <!-- <h3>Start free tier</h3> -->
            <form #f="ngForm" (ngSubmit)="onSubmit(f)" class="login_form">
              <div class="form-header col-md-10">
                <h5>Change Password</h5>
              </div>
              <div class="col-md-10" style="margin: 10px 0px !important;">
                <mat-form-field hideRequiredMarker floatlable="auto" appearance="outline" color="primary"
                  style="width:370px !important">
                  <mat-label>Current Password</mat-label>
                  <input [type]="hide ? 'text' : 'password'" matInput class="form-control psw_input" name="currentPassword"
                    #currentPassword="ngModel" [(ngModel)]="curtPass" placeholder="Enter Current Password"
                    pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{8,20})" maxlength="20" required />
                  <span class="password-btn ml-auto" matSuffix *ngIf="!hide" (click)="hide = true">
                    <img src='assets/images/eye-show.svg' alt="eye-show" />
                  </span>
                  <span class="password-btn ml-auto" matSuffix *ngIf="hide" (click)="hide = false">
                    <img src='assets/images/eye-hide.svg' alt="eye-hide" />
                  </span>
                </mat-form-field>
                <span *ngIf="((currentPassword.invalid && f.submitted) || (currentPassword.errors && currentPassword.touched) )">
                  <span class='fa fa-info-circle errspan' *ngIf="currentPassword.errors.required"> Password is required</span>
                  <span class='fa fa-info-circle errspan' *ngIf="currentPassword.errors.pattern"> Password must be 8-20
                    characters and
                    have at least one uppercase latter, one lowercase letter, one special character and one number</span>
                </span>
              </div>
        
              <div class="col-md-10" style="margin: 10px 0px !important;">
                <mat-form-field hideRequiredMarker floatlable="auto" appearance="outline" color="primary"
                  style="width:370px !important">
                  <mat-label>New Password</mat-label>
                  <input [type]="hide1 ? 'text' : 'password'" matInput class="form-control psw_input" name="password" ngModel
                    #password="ngModel" placeholder="Enter New Password" pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{8,20})"
                    maxlength="20" required />
                  <span class="password-btn ml-auto" matSuffix *ngIf="!hide1" (click)="hide1 = true">
                    <img src='assets/images/eye-show.svg' alt="eye-show" />
                  </span>
                  <span class="password-btn ml-auto" matSuffix *ngIf="hide1" (click)="hide1 = false">
                    <img src='assets/images/eye-hide.svg' alt="eye-hide" />
                  </span>
                </mat-form-field>
                <span *ngIf="((password.invalid && f.submitted) || (password.errors && password.touched) )">
                  <span class='fa fa-info-circle errspan' *ngIf="password.errors.required"> Password is required</span>
                  <span class='fa fa-info-circle errspan' *ngIf="password.errors.pattern"> Password must be 8-20 characters and
                    have at least one uppercase latter, one lowercase letter, one special character and one number</span>
                </span>
              </div>
        
              <div class="col-md-10" style="margin: 10px 0px !important;">
                <mat-form-field hideRequiredMarker floatlable="auto" appearance="outline" color="primary"
                  style="width:370px !important">
                  <mat-label>Confirm New Password</mat-label>
                  <input [type]="hide2 ? 'text' : 'password'" matInput class="form-control psw_input" name="pwConfirm"
                    [(ngModel)]="newPwd" ngModel #pwConfirm="ngModel" placeholder="Confirm New Password" required
                    compare="password" />
                  <span class="password-btn ml-auto" matSuffix *ngIf="!hide2" (click)="hide2 = true">
                    <img src='assets/images/eye-show.svg' alt="eye-show" />
                  </span>
                  <span class="password-btn ml-auto" matSuffix *ngIf="hide2" (click)="hide2 = false">
                    <img src='assets/images/eye-hide.svg' alt="eye-hide" />
                  </span>
                </mat-form-field>
                <span class="text-danger" *ngIf="pwConfirm.touched && pwConfirm.errors">
                  <span *ngIf="pwConfirm.errors['required']" class='fa fa-info-circle errspan'> Password confirm is
                    required</span>
                  <span *ngIf="pwConfirm.errors['compare'] && !pwConfirm.errors['required']" class='fa fa-info-circle errspan'>
                    Password confirm do not match</span>
                </span>
              </div>
  
              <div class="form-group col-md-12" style="top: 18px;">
                <div class="col-md-6">
                  <a [routerLink]="['/']" class="backlogin">Back to Login </a>
                </div>
                <div class="col-md-6">
                  <button class="hoverable button btn btn-primary btn-signin login-btn" [disabled]="f.invalid">Submit</button>
                </div>
              </div>
            </form>
            
            <!-- <div style="overflow-wrap: break-word;">
              <div *ngIf="error" class="alert alert-danger text-center">{{error}}</div>
            </div> -->
          </mat-card>
        </div>
    </div>
  </div>
  
  <ngx-spinner bdColor="#bebcbc66" type="">
    <img  src='assets/images/EZFlow_Loader.gif' class="ezflow-loader" alt="EZFlow_Loader"/> 
  </ngx-spinner>
  